<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="None">
    
    
    <link rel="shortcut icon" href="./img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>HTKA0150-3004 AWS-serverless -NDVI demo for agriculture</title>
    <link href="./css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="./css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="./css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="./css/highlight.css">
    <link href="style.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="./js/jquery-3.2.1.min.js"></script>
    <script src="./js/bootstrap-3.3.7.min.js"></script>
    <script src="./js/highlight.pack.js"></script>
    
      <script src="./js/elasticlunr.min.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '.';
      var is_top_frame = (window === window.parent);
        
        var pageToc = [
          {title: "NDVI (Normalized Difference Vegetation Index)", url: "#_top", children: [
          ]},
          {title: "AWS-serverless API for NDVI-satellite images and statistics from Sentinel-hub services", url: "#aws-serverless-api-for-ndvi-satellite-images-and-statistics-from-sentinel-hub-services", children: [
          ]},
          {title: "Idea", url: "#idea", children: [
          ]},
        ];

    </script>
    <script src="./js/base.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>

<nav class="navbar wm-page-top-frame">
  <div class="container-fluid wm-top-container">
    
    <div class="wm-top-tool pull-right wm-vcenter">
      <form class="dropdown wm-vcentered" id="wm-search-form" action="./search.html">
        
        <button id="wm-search-show" class="btn btn-sm btn-default" type="submit"
          ><i class="fa fa-search" aria-hidden="true"></i></button>

        <div class="input-group input-group-sm wm-top-search">
          <input type="text" name="q" class="form-control" id="mkdocs-search-query" placeholder="Search" autocomplete="off">
          <span class="input-group-btn" role="search">
            
            <button class="btn btn-default dropdown-toggle collapse" data-toggle="dropdown" type="button"><span class="caret"></span></button>
            <ul id="mkdocs-search-results" class="dropdown-menu dropdown-menu-right"></ul>
            <button id="wm-search-go" class="btn btn-default" type="submit"><i class="fa fa-search" aria-hidden="true"></i></button>
          </span>
        </div>
      </form>
    </div>

    
    <div class="wm-top-tool wm-vcenter pull-right wm-small-left">
      <button id="wm-toc-button" type="button" class="btn btn-sm btn-default wm-vcentered"><i class="fa fa-th-list" aria-hidden="true"></i></button>
    </div>

    
    
    <div class="wm-top-tool pull-right wm-vcenter">
      <div class="btn-group wm-vcentered" role="group" aria-label="back">
        <button id="hist-back" type="button" class="btn btn-sm btn-default"><i class="fa fa-arrow-left" aria-hidden="true"></i></button>
        <button id="hist-fwd" type="button" class="btn btn-sm btn-default"><i class="fa fa-arrow-right" aria-hidden="true"></i></button>
      </div>
    </div>
    

    
    <a href="" class="wm-top-brand wm-top-link wm-vcenter">
      
      <div class="wm-top-title">
        HTKA0150-3004 AWS-serverless -NDVI demo for agriculture<br>
        
      </div>
    </a>
  </div>
</nav>

  <div id="main-content" class="wm-page-top-frame">
    
<nav class="wm-toc-pane">
  
  <ul class="wm-toctree">
        <li class="wm-toc-li wm-toc-lev1 "><a href="" class="wm-article-link wm-toc-text">Introduction</a>
</li>
        <li class="wm-toc-li wm-toc-lev1 wm-toc-opener"><span class="wm-toc-text">Using the service</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2 "><a href="client/frontend/" class="wm-article-link wm-toc-text">Client example</a>
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="client/overview/" class="wm-article-link wm-toc-text">Overview</a>
</li>
      <li class="wm-toc-li wm-toc-lev2 wm-toc-opener"><span class="wm-toc-text">Authentication</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev3 "><a href="client/registration/" class="wm-article-link wm-toc-text">Sign up</a>
</li>
      <li class="wm-toc-li wm-toc-lev3 "><a href="client/login/" class="wm-article-link wm-toc-text">Log in</a>
</li>
  </ul>
</li>

      <li class="wm-toc-li wm-toc-lev2 "><a href="client/selecting_area/" class="wm-article-link wm-toc-text">Inserting the geometry of the area of interest</a>
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="client/get_data/" class="wm-article-link wm-toc-text">Getting the NDVI data</a>
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="client/selecting_year/" class="wm-article-link wm-toc-text">Selecting year of NDVI dates</a>
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="client/selecting_date/" class="wm-article-link wm-toc-text">Selecting date of NDVI data</a>
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="client/elements.md" class="wm-article-link wm-toc-text">Display elements</a>
</li>
      <li class="wm-toc-li wm-toc-lev2 wm-toc-opener"><span class="wm-toc-text">Views</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev3 "><a href="client/chart/" class="wm-article-link wm-toc-text">Chart</a>
</li>
      <li class="wm-toc-li wm-toc-lev3 "><a href="client/statistics/" class="wm-article-link wm-toc-text">Statistics</a>
</li>
      <li class="wm-toc-li wm-toc-lev3 "><a href="client/onmap/" class="wm-article-link wm-toc-text">On map</a>
</li>
      <li class="wm-toc-li wm-toc-lev3 "><a href="client/location/" class="wm-article-link wm-toc-text">Location</a>
</li>
      <li class="wm-toc-li wm-toc-lev3 "><a href="client/film/" class="wm-article-link wm-toc-text">Film</a>
</li>
  </ul>
</li>

      <li class="wm-toc-li wm-toc-lev2 "><a href="client/auto_play/" class="wm-article-link wm-toc-text">Play mode</a>
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="client/about/" class="wm-article-link wm-toc-text">About</a>
</li>
  </ul>
</li>

        <li class="wm-toc-li wm-toc-lev1 wm-toc-opener"><span class="wm-toc-text">Endpoints</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2 "><a href="routes/overview/" class="wm-article-link wm-toc-text">Overview</a>
</li>
      <li class="wm-toc-li wm-toc-lev2 wm-toc-opener"><span class="wm-toc-text">User</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev3 "><a href="auth/cognito/" class="wm-article-link wm-toc-text">overview</a>
</li>
      <li class="wm-toc-li wm-toc-lev3 "><a href="auth/signup/" class="wm-article-link wm-toc-text">signup</a>
</li>
      <li class="wm-toc-li wm-toc-lev3 "><a href="auth/login/" class="wm-article-link wm-toc-text">login</a>
</li>
  </ul>
</li>

      <li class="wm-toc-li wm-toc-lev2 wm-toc-opener"><span class="wm-toc-text">Ndvi</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev3 "><a href="routes/validateGeojson/" class="wm-article-link wm-toc-text">geoJson validation</a>
</li>
      <li class="wm-toc-li wm-toc-lev3 "><a href="routes/dates/" class="wm-article-link wm-toc-text">dates</a>
</li>
      <li class="wm-toc-li wm-toc-lev3 "><a href="routes/images/" class="wm-article-link wm-toc-text">images</a>
</li>
  </ul>
</li>

  </ul>
</li>

        <li class="wm-toc-li wm-toc-lev1 wm-toc-opener"><span class="wm-toc-text">Tests</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2 "><a href="tests/user/" class="wm-article-link wm-toc-text">user</a>
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="tests/sentinelhub/" class="wm-article-link wm-toc-text">sentinelhub</a>
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="tests/mongo/" class="wm-article-link wm-toc-text">mongo</a>
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="tests/ndvi/" class="wm-article-link wm-toc-text">ndvi</a>
</li>
  </ul>
</li>

        <li class="wm-toc-li wm-toc-lev1 wm-toc-opener"><span class="wm-toc-text">Sentinel-hub</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2 "><a href="sentinelhub/sentinelhub/" class="wm-article-link wm-toc-text">Overview</a>
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="sentinelhub/evalscript/" class="wm-article-link wm-toc-text">Evalscript</a>
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="misc/env/" class="wm-article-link wm-toc-text">Environment variables</a>
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="sentinelhub/sentinelhub_auth/" class="wm-article-link wm-toc-text">Authentication</a>
</li>
      <li class="wm-toc-li wm-toc-lev2 wm-toc-opener"><span class="wm-toc-text">Main modules/methods</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev3 "><a href="sentinelhub/sentinelhub_token/" class="wm-article-link wm-toc-text">Token</a>
</li>
      <li class="wm-toc-li wm-toc-lev3 "><a href="sentinelhub/getstatistics/" class="wm-article-link wm-toc-text">GetStatistics</a>
</li>
      <li class="wm-toc-li wm-toc-lev3 "><a href="sentinelhub/getimage/" class="wm-article-link wm-toc-text">GetImage</a>
</li>
  </ul>
</li>

  </ul>
</li>

        <li class="wm-toc-li wm-toc-lev1 wm-toc-opener"><span class="wm-toc-text">Database</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2 "><a href="database/overview/" class="wm-article-link wm-toc-text">Overview</a>
</li>
      <li class="wm-toc-li wm-toc-lev2 wm-toc-opener"><span class="wm-toc-text">MongoDB</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev3 "><a href="env/" class="wm-article-link wm-toc-text">Environment variable</a>
</li>
      <li class="wm-toc-li wm-toc-lev3 wm-toc-opener"><span class="wm-toc-text">Models</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev4 "><a href="database/models/dateschema/" class="wm-article-link wm-toc-text">datesSchema</a>
</li>
      <li class="wm-toc-li wm-toc-lev4 "><a href="database/models/imageschema/" class="wm-article-link wm-toc-text">imageSchema</a>
</li>
  </ul>
</li>

      <li class="wm-toc-li wm-toc-lev3 "><a href="database/mongodb_js/" class="wm-article-link wm-toc-text">API (mongodb.js)</a>
</li>
  </ul>
</li>

  </ul>
</li>

        <li class="wm-toc-li wm-toc-lev1 "><a href="utils/utils/" class="wm-article-link wm-toc-text">Utilities</a>
</li>
        <li class="wm-toc-li wm-toc-lev1 "><a href="libraries/libraries/" class="wm-article-link wm-toc-text">Libraries</a>
</li>
        <li class="wm-toc-li wm-toc-lev1 "><a href="deployment/deployment/" class="wm-article-link wm-toc-text">Deployment</a>
</li>
        <li class="wm-toc-li wm-toc-lev1 "><a href="development/development/" class="wm-article-link wm-toc-text">Development</a>
</li>
  </ul>
</nav>

    <div class="wm-content-pane">
      <iframe class="wm-article" name="article"></iframe>
    </div>
  </div>

<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    <h3 id="ndvi-normalized-difference-vegetation-index">NDVI (Normalized Difference Vegetation Index)</h3>
<p>The well known and widely used NDVI is a simple, but effective index for quantifying green vegetation. It normalizes green leaf scattering in Near Infra-red wavelengths with chlorophyll absorption in red wavelengths.
The value range of the NDVI is -1 to 1. Negative values of NDVI (values approaching -1) correspond to water. Values close to zero (-0.1 to 0.1) generally correspond to barren areas of rock, sand, or snow. Low, positive values represent shrub and grassland (approximately 0.2 to 0.4), while high values indicate temperate and tropical rainforests (values approaching 1). It is a good proxy for live green vegetation.</p>
<p><img src="img/ndvi.jpg" alt="image 1" width="600"/></p>
<p><a href="https://fi.wikipedia.org/wiki/NDVI">https://fi.wikipedia.org/wiki/NDVI</a></p>
<h3 id="aws-serverless-api-for-ndvi-satellite-images-and-statistics-from-sentinel-hub-services">AWS-serverless API for NDVI-satellite images and statistics from Sentinel-hub services</h3>
<p>This AWS-serverless API makes it possible to getting NDVI (Normalized Difference Vegetation Index) satellite data from sentinel-hub service sentinel-2-l1c and serve it for client.
So the e.g. farmers and agriculture peoples can see the growing situation of the plants.</p>
<h4 id="why-sentinel-hub">Why sentinel-hub</h4>
<p><a href="https://medium.com/sentinel-hub/tk-why-its-time-to-stop-processing-satellite-imagery-on-your-laptop-a09dbf8c72c0/" target="_blank">Why it’s time to stop processing satellite imagery on your laptop</a></p>
<h3 id="idea">Idea</h3>
<p>The idea of the topic for this exercise is based on a previously implemented the following MERN-fullstack</p>
<p>frontend: <br />
<a href="https://laakkti.github.io/ytsp0300-3004/" target="_blank" rel="noopener noreferrer">https://laakkti.github.io/ytsp0300-3004/</a></p>
<p>backend: <br />
<a href="https://laakkti.github.io/ytsp0200-3004/" target="_blank" rel="noopener noreferrer">https://laakkti.github.io/ytsp0200-3004/</a></p>
<p>This version is simplified in terms of its core idea by removing some functionalities. In this version, the geometry (GeoJSON) is input (via copy-paste) into the application, which checks its validity and automatically corrects certain errors, including ensuring that the so-called "right-hand rule" is followed.</p>
<p><em>Note:</em> Right-hand Rule</p>
<p>When working with Polygons and MultiPolygons (e.g., in GeoJSON or shapefile format in GIS applications), the right-hand rule defines the coordinate winding order:</p>
<p>🔹 The outer ring (the polygon's outer boundary) should be wound counterclockwise (CCW).</p>
<p>🔹 Inner rings (holes within the polygon) should be wound clockwise (CW).</p>
<p>This rule ensures a consistent geometric representation, which is important for:</p>
<ul>
<li>
<p>calculating area</p>
</li>
<li>
<p>rendering/drawing on maps</p>
</li>
<li>
<p>accuracy of geospatial operations (e.g., containment, intersection)</p>
</li>
</ul>
<p>The implementation of the frontend application is not described in detail in this document, only how it is used in practice. <br />
This document focuses on describing the AWS serverless backend implementation.</p>

  <br>
</div>

<footer class="container-fluid wm-page-content">
  <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>
<!--
MkDocs version : 1.6.0
Build Date UTC : 2025-06-17 20:13:45.367078+00:00
-->